%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\documentclass[12pt]{article}

\usepackage[fntef]{ctex} % invole CJKfntef
\usepackage{ctex}

\usepackage{amsmath,amssymb,amsfonts,bm,amsthm}
\usepackage{mathtools}
\usepackage{physics}
\usepackage{tensor}

\setlength\parindent{0pt} % Removes all indentation from paragraphs

\usepackage[most]{tcolorbox} % Required for boxes that split across pages

\usepackage{booktabs} % Required for better horizontal rules in tables

\usepackage{listings} % Required for insertion of code

\usepackage{etoolbox} % Required for if statements

%----------------------------------------------------------------------------------------
%	MARGINS
%----------------------------------------------------------------------------------------

\usepackage{geometry} % Required for adjusting page dimensions and margins

\geometry{
	paper=a4paper, % Change to letterpaper for US letter
	top=3cm, % Top margin
	bottom=3cm, % Bottom margin
	left=2.5cm, % Left margin
	right=2.5cm, % Right margin
	headheight=14pt, % Header height
	footskip=1.4cm, % Space from the bottom margin to the baseline of the footer
	headsep=1.2cm, % Space from the top margin to the baseline of the header
	%showframe, % Uncomment to show how the type block is set on the page
}

%----------------------------------------------------------------------------------------
%	FONT
%----------------------------------------------------------------------------------------

\usepackage[utf8]{inputenc} % Required for inputting international characters
\usepackage[T1]{fontenc} % Output font encoding for international characters

\usepackage[sfdefault,light]{roboto} % Use the Roboto font

%----------------------------------------------------------------------------------------
%	HEADERS AND FOOTERS
%----------------------------------------------------------------------------------------

\usepackage{fancyhdr} % Required for customising headers and footers

\pagestyle{fancy} % Enable custom headers and footers

\lhead{\small\assignmentClass\ifdef{\assignmentClassInstructor}{\assignmentClassInstructor}{}\ \assignmentTitle} % Left header; output the instructor in brackets if one was set
\chead{} % Centre header
\rhead{\small\ifdef{\assignmentAuthorName}{\assignmentAuthorName}{\ifdef{\assignmentDueDate}{\assignmentDueDate}{}}} % Right header; output the author name if one was set, otherwise the due date if that was set

\lfoot{} % Left footer
\cfoot{\small Page\ \thepage\ } % Centre footer
\rfoot{} % Right footer

\renewcommand\headrulewidth{0.5pt} % Thickness of the header rule
\newcommand{\myind}[1]{{\upshape\color{blue} #1 }\index{#1}}
%----------------------------------------------------------------------------------------
%	MODIFY SECTION STYLES
%----------------------------------------------------------------------------------------

\usepackage{titlesec} % Required for modifying sections

%------------------------------------------------
% Section

\titleformat
{\section} % Section type being modified
[block] % Shape type, can be: hang, block, display, runin, leftmargin, rightmargin, drop, wrap, frame
{\Large\bfseries} % Format of the whole section
{\assignmentQuestionName~\thesection} % Format of the section label
{6pt} % Space between the title and label
{} % Code before the label

\titlespacing{\section}{0pt}{0.5\baselineskip}{0.5\baselineskip} % Spacing around section titles, the order is: left, before and after

%------------------------------------------------
% Subsection

\titleformat
{\subsection} % Section type being modified
[block] % Shape type, can be: hang, block, display, runin, leftmargin, rightmargin, drop, wrap, frame
{\itshape} % Format of the whole section
{(\alph{subsection})} % Format of the section label
{4pt} % Space between the title and label
{} % Code before the label

\titlespacing{\subsection}{0pt}{0.5\baselineskip}{0.5\baselineskip} % Spacing around section titles, the order is: left, before and after

\renewcommand\thesubsection{(\alph{subsection})}

%----------------------------------------------------------------------------------------
%	CUSTOM QUESTION COMMANDS/ENVIRONMENTS
%----------------------------------------------------------------------------------------

% Environment to be used for each question in the assignment
\newenvironment{question}{
	\vspace{0.5\baselineskip} % Whitespace before the question
	\section{} % Blank section title (e.g. just Question 2)
	\lfoot{\small\itshape\assignmentQuestionName~\thesection~continued on next page\ldots} % Set the left footer to state the question continues on the next page, this is reset to nothing if it doesn't (below)
}{
	\lfoot{} % Reset the left footer to nothing if the current question does not continue on the next page
}

%------------------------------------------------

% Environment for subquestions, takes 1 argument - the name of the section
\newenvironment{subquestion}[1]{
	\subsection{#1}
}{
}

%------------------------------------------------

% Command to print a question sentence
\newcommand{\questiontext}[1]{
	\textbf{#1}
	\vspace{0.5\baselineskip} % Whitespace afterwards
}

%------------------------------------------------

% Command to print a box that breaks across pages with the question answer
\newcommand{\answer}[1]{
	\begin{tcolorbox}[breakable, enhanced]
		#1
	\end{tcolorbox}
}

%------------------------------------------------

% Command to print a box that breaks across pages with the space for a student to answer
\newcommand{\answerbox}[1]{
	\begin{tcolorbox}[breakable, enhanced]
		\vphantom{L}\vspace{\numexpr #1-1\relax\baselineskip} % \vphantom{L} to provide a typesetting strut with a height for the line, \numexpr to subtract user input by 1 to make it 0-based as this command is
	\end{tcolorbox}
}

%------------------------------------------------

% Command to print an assignment section title to split an assignment into major parts
\newcommand{\assignmentSection}[1]{
	{
		\centering % Centre the section title
		\vspace{2\baselineskip} % Whitespace before the entire section title
		
		\rule{0.8\textwidth}{0.5pt} % Horizontal rule
		
		\vspace{0.75\baselineskip} % Whitespace before the section title
		{\LARGE \MakeUppercase{#1}} % Section title, forced to be uppercase
		
		\rule{0.8\textwidth}{0.5pt} % Horizontal rule
		
		\vspace{\baselineskip} % Whitespace after the entire section title
	}
}

%----------------------------------------------------------------------------------------
%	TITLE PAGE
%----------------------------------------------------------------------------------------

\author{\textbf{\assignmentAuthorName}} % Set the default title page author field
\date{} % Don't use the default title page date field

\title{
	\thispagestyle{empty} % Suppress headers and footers
	\vspace{0.2\textheight} % Whitespace before the title
	\textbf{\assignmentClass:\ \assignmentTitle}\\[-4pt]
	\ifdef{\assignmentDueDate}{{\small Due\ on\ \assignmentDueDate}\\}{} % If a due date is supplied, output it
	\ifdef{\assignmentClassInstructor}{{\large \textit{\assignmentClassInstructor}}}{} % If an instructor is supplied, output it
	\vspace{0.32\textheight} % Whitespace before the author name
}


%----------------------------------------------------------------------------------------
%	ASSIGNMENT INFORMATION
%----------------------------------------------------------------------------------------

% Required
\newcommand{\assignmentQuestionName}{Question} % The word to be used as a prefix to question numbers; example alternatives: Problem, Exercise
\newcommand{\assignmentClass}{} % Course/class
\newcommand{\assignmentTitle}{每日一题~~\today} % Assignment title or name
\newcommand{\assignmentAuthorName}{YY} % Student name

% Optional (comment lines to remove)
\newcommand{\assignmentClassInstructor}{} % Intructor name/time/description
\newcommand{\assignmentDueDate}{} % Due date

%----------------------------------------------------------------------------------------


\begin{document}

\begin{question}

\questiontext{
	对于任意一个分式线性变换\begin{equation*}
		L(x) = \frac{ax+b}{cx+d},
	\end{equation*}
	由于可以约分, 所以总可假定$ad-bc = 1$.
	若以矩阵\begin{equation*}
		E = \begin{pmatrix}
			a & b \\
			c & d.
		\end{pmatrix}
	\end{equation*}
	来对应这个分式线性变换:
	\begin{equation*}
		E\mapsto L(x) = \frac{ax + b}{cx+d}.
	\end{equation*}
	证明: 如果$E\mapsto L,E_1\mapsto L_1,E_2\mapsto L_2$,则\begin{equation*}
		\begin{split}
			&E_1\cdot E_2 \mapsto L_1\circ L_2;\\
			&E^{-1} \mapsto L^{-1}.
		\end{split}
	\end{equation*}
}
\answer{
	\begin{proof}
		\begin{equation*}
			E^{-1} = \frac{1}{ad-bc}\begin{pmatrix}
			d & -b \\
			-c & a.
			\end{pmatrix} = \begin{pmatrix}
			d & -b \\
			-c & a.
			\end{pmatrix}
		\end{equation*}
		注意到\begin{equation*}
			y = \frac{ax + b}{cx+d}\Rightarrow x = \frac{dy-b}{-cy+a}
		\end{equation*}
		这说明\begin{equation*}
			E^{-1} \mapsto L^{-1}.
		\end{equation*}
		另一方面,设\begin{equation*}
			E = \begin{pmatrix}
			a_1 & b_1 \\
			c_1 & d_1
			\end{pmatrix},E_2 = \begin{pmatrix}
			a_2 & b_2 \\
			c_2 & d_2
			\end{pmatrix},
		\end{equation*}
		则\begin{equation*}
			E_1\cdot E_2 = \begin{pmatrix}
			a_1a_2+b_1c_2 & a_1b_2+b_1d_2 \\
			c_1a_2+d_1c_2 & c_1b_2+d_1d_2
			\end{pmatrix}.
		\end{equation*}
		又有\begin{equation*}
			L_1\circ L_2(x) = \frac{a_1(L_2(x))+b_1}{c_1(L_2(x))+d_1} = \frac{(a_1a_2+b_1c_2)x+a_1b_2+b_1d_2}{(c_1a_2+d_1c_2)x+c_1b_2+d_1d_2}.
		\end{equation*}
		因此,\begin{equation*}
		E_1\cdot E_2 \mapsto L_1\circ L_2.	
		\end{equation*}
	\end{proof}


		
}

\end{question}


%--------------------------------------------
\end{document}
